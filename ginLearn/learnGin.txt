package main

import (
	"github.com/gin-gonic/gin"
	"net/http"
)

func main() {

	// the below line is ment to initilize router with Default middleware

	// Middleware :
	// A middleware is code that runs before or after your handler â€” kinda like a security guard or a filter.

	// API path basically its the path where API hits when requsted
	r := gin.Default()

	// the below line load the html in a gloabal pattern eg: "templates/*.html"
	r.LoadHTMLGlob("templates/*.html")

	// Define a simple get function
	// the below get function uses the root path of the url when the
	// path gets hit it executes the anaonymos function its called handler

	r.GET("/", func(ctx *gin.Context) {
		ctx.String(http.StatusOK, "my second gin hello world!")
	})

	// the below code snippet use is to render a html file

	r.GET("/dashboard", func(ctx *gin.Context) {
		ctx.HTML(http.StatusOK, "dashboard.html", gin.H{ // gin.H is a map[string]interface{}.
			// it helps constructing json responses.
			"title":   "HTML in Golang",
			"message": "this is the first time me rendering html in golang",
		})
	})

	r.Run()

}
